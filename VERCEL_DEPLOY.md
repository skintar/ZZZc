# üìã –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ Vercel

## ‚öôÔ∏è –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π Vercel

### –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ `builds`
```
WARN! Due to `builds` existing in your configuration file, the Build and Development Settings defined in your Project Settings will not apply.
```

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** –ö–æ–≥–¥–∞ –≤ vercel.json –µ—Å—Ç—å —Å–µ–∫—Ü–∏—è `builds`, Vercel –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∏–≥–Ω–æ—Ä–∏—Ä—É—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è Vercel
```
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ index.py          # Serverless —Ñ—É–Ω–∫—Ü–∏—è Python
‚îú‚îÄ‚îÄ public/               # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.html       # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ web/                 # TMA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Å—Ç–∞—Ç–∏–∫–∞)
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ app.js
‚îÇ   ‚îî‚îÄ‚îÄ style.css
‚îú‚îÄ‚îÄ vercel.json          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ)
‚îî‚îÄ‚îÄ ...
```

### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- `/` ‚Üí `public/index.html` (–≥–ª–∞–≤–Ω–∞—è)
- `/api/*` ‚Üí `api/index.py` (serverless —Ñ—É–Ω–∫—Ü–∏–∏)
- `/web/*` ‚Üí —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã TMA
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (css, js, images) ‚Üí `public/`

## üîß –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–¥–∞
1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã**:
   - ‚úÖ `api/index.py` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç BaseHTTPRequestHandler
   - ‚úÖ `vercel.json` - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è builds
   - ‚úÖ `requirements.txt` - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   - ‚úÖ `public/index.html` - —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –≤ GitHub

#### –í–∞—Ä–∏–∞–Ω—Ç A: –° —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Git
```bash
# –í –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
git add .
git commit -m "Fix Vercel 404 - serverless Python functions"
git push origin main
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å GitHub
1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ github.com
2. –ù–∞–∂–º–∏—Ç–µ "Upload files"
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã:
   - `api/index.py`
   - `vercel.json`
   - `public/index.html`
   - `requirements.txt`
4. Commit message: "Fix Vercel 404 - serverless Python functions"
5. –ù–∞–∂–º–∏—Ç–µ "Commit changes"

### –®–∞–≥ 3: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Vercel

1. **–í–æ–π–¥–∏—Ç–µ –≤ vercel.com**
2. **–ù–∞–π–¥–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç** –≤ dashboard
3. **–î–æ–∂–¥–∏—Ç–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è** (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω) –ò–õ–ò
4. **–ù–∞–∂–º–∏—Ç–µ "Redeploy"** –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

### –®–∞–≥ 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Functions" —Ç–∞–±** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Python —Ñ—É–Ω–∫—Ü–∏–∏
2. **–û—Ç–∫—Ä–æ–π—Ç–µ "Deployments"** - –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ "Settings ‚Üí Environment Variables"** - —É–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ –Ω—É–∂–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints
```bash
# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
curl https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/

# Health check API
curl https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/health

# Characters API
curl https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/api/characters

# TMA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
curl https://–≤–∞—à-–¥–æ–º–µ–Ω.vercel.app/web/index.html
```

### –û–∂–∏–¥–∞–µ–º—ã–µ –æ—Ç–≤–µ—Ç—ã
- **/** ‚Üí HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Å—Ç–∞—Ç—É—Å–æ–º –¥–µ–ø–ª–æ—è
- **/api/health** ‚Üí JSON —Å `{"status": "healthy"}`
- **/api/characters** ‚Üí JSON –º–∞—Å—Å–∏–≤ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
- **/web/index.html** ‚Üí –ü–æ–ª–Ω–æ–µ TMA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL** –≤–∞—à–µ–≥–æ Vercel –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `your-app.vercel.app`)
2. **–û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª**:
   ```env
   TMA_DOMAIN=your-app.vercel.app
   ```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ @BotFather
1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ @BotFather
2. `/setmenubutton`
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
4. URL: `https://your-app.vercel.app/web/index.html`
5. Text: `üéÆ –†–µ–π—Ç–∏–Ω–≥ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π`

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl+C)
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
python main.py
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ 404 NOT_FOUND
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `api/index.py` - –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BaseHTTPRequestHandler
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ `vercel.json` routes
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–µ–ø–ª–æ—è –≤ Vercel dashboard

### –û—à–∏–±–∫–∏ Python —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Function logs –≤ Vercel
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `requirements.txt` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `api/index.py`

### CORS –æ—à–∏–±–∫–∏
- ‚úÖ API —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ —Å headers `Access-Control-Allow-Origin: *`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### Telegram WebApp –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- ‚úÖ URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å HTTPS (Vercel –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL –≤ @BotFather
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ TMA_DOMAIN –≤ .env —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Vercel –¥–æ–º–µ–Ω—É

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–∏—Å—Ç–µ–º—ã

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ Vercel
- **Function duration** - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è serverless —Ñ—É–Ω–∫—Ü–∏–π
- **Function invocations** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–∑–æ–≤–æ–≤
- **Bandwidth usage** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞
- **Error rate** - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫

### Health check endpoint
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/api/health` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
```json
{
  "status": "healthy",
  "message": "TMA API is running on Vercel",
  "timestamp": "2025-09-09",
  "version": "1.0.0"
}
```

### –ê–ª–µ—Ä—Ç—ã –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
1. **Vercel Monitoring** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã –≤ Pro –ø–ª–∞–Ω–µ
2. **UptimeRobot** - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
3. **Custom monitoring** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–∞—à–∏–º –±–æ—Ç–æ–º

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ CI/CD

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∏ push –≤ main/master –≤–µ—Ç–∫—É GitHub.

### –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
1. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
2. Commit + Push –≤ GitHub
3. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –¥–µ–ø–ª–æ–π
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
5. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ - rollback –≤ Vercel dashboard

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **–ó–∞–≤–µ—Ä—à–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –¥–µ–ø–ª–æ–π**
2. üîÑ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ endpoints**
3. ü§ñ **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Telegram bot**
4. üìà **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
5. üöÄ **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω!**

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞: 2025-09-09*  
*–í–µ—Ä—Å–∏—è Vercel API: 2*  
*Python Runtime: @vercel/python*