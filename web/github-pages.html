<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèÜ –†–µ–π—Ç–∏–Ω–≥ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π - TMA</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
            min-height: 100vh;
        }
        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        h1 {
            font-size: 2em;
            margin: 0 0 10px;
            color: var(--tg-theme-hint-color, #666);
        }
        .status {
            padding: 20px;
            border-radius: 12px;
            background: var(--tg-theme-secondary-bg-color, #f0f0f0);
            margin: 20px 0;
            text-align: center;
        }
        .character-demo {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        .character-card {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            background: var(--tg-theme-secondary-bg-color, #f9f9f9);
            min-width: 120px;
        }
        .character-img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 10px;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: var(--tg-theme-button-color, #007AFF);
            color: var(--tg-theme-button-text-color, #ffffff);
            text-decoration: none;
            border-radius: 8px;
            margin: 15px 0;
            border: none;
            cursor: pointer;
            font-size: 16px;
            text-align: center;
        }
        .btn:hover {
            opacity: 0.8;
        }
        .info {
            background: var(--tg-theme-secondary-bg-color, #f5f5f5);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .demo-note {
            text-align: center;
            color: var(--tg-theme-hint-color, #999);
            font-size: 14px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèÜ –†–µ–π—Ç–∏–Ω–≥ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π</h1>
            <p>–°–æ–∑–¥–∞–π —Å–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–ø —á–µ—Ä–µ–∑ –ø–∞—Ä–Ω—ã–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è!</p>
        </div>
        
        <div class="status">
            <h3>‚úÖ TMA –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!</h3>
            <p>–†–∞–∑–≤—ë—Ä–Ω—É—Ç–æ –Ω–∞ GitHub Pages</p>
        </div>
        
        <div class="character-demo">
            <div class="character-card">
                <img src="../–ü–µ—Ä—Å–æ–Ω–∞–∂–∏/–ê—Å—Ç—Ä–∞.png" alt="–ê—Å—Ç—Ä–∞" class="character-img" onerror="this.style.display='none'">
                <div>–ê—Å—Ç—Ä–∞</div>
            </div>
            <div class="character-card">
                <img src="../–ü–µ—Ä—Å–æ–Ω–∞–∂–∏/–ë–µ–ª–ª—å.png" alt="–ë–µ–ª–ª—å" class="character-img" onerror="this.style.display='none'">
                <div>–ë–µ–ª–ª—å</div>
            </div>
            <div class="character-card">
                <img src="../–ü–µ—Ä—Å–æ–Ω–∞–∂–∏/–í–∞–π–∑.png" alt="–í–∞–π–∑" class="character-img" onerror="this.style.display='none'">
                <div>–í–∞–π–∑</div>
            </div>
        </div>
        
        <button class="btn" onclick="startDemo()">üéÆ –î–µ–º–æ –≤–µ—Ä—Å–∏—è</button>
        <button class="btn" onclick="openOriginalTMA()" style="background: #34C759;">üöÄ –ü–æ–ª–Ω–∞—è –≤–µ—Ä—Å–∏—è (—Ç—Ä–µ–±—É–µ—Ç API)</button>
        
        <div class="info">
            <h4>üìã –°—Ç–∞—Ç—É—Å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è:</h4>
            <p>‚úÖ <strong>–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã</strong> - —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ GitHub Pages</p>
            <p>‚ö†Ô∏è <strong>API —Ñ—É–Ω–∫—Ü–∏–∏</strong> - —Ç—Ä–µ–±—É—é—Ç –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä</p>
            <p>üîó <strong>URL –¥–ª—è –±–æ—Ç–∞:</strong> <code id="tma-url"></code></p>
        </div>
        
        <div class="demo-note">
            <p>–≠—Ç–æ –¥–µ–º–æ –≤–µ—Ä—Å–∏—è –¥–ª—è GitHub Pages. –î–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ API —Å–µ—Ä–≤–µ—Ä.</p>
        </div>
    </div>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        if (window.Telegram && window.Telegram.WebApp) {
            window.Telegram.WebApp.ready();
            window.Telegram.WebApp.expand();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º URL –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
            document.getElementById('tma-url').textContent = window.location.href;
        }
        
        function startDemo() {
            alert('üéÆ –î–µ–º–æ —Ä–µ–∂–∏–º!\n\n–í —Ä–µ–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –∑–¥–µ—Å—å –±—É–¥—É—Ç:\n‚Ä¢ –ü–∞—Ä–Ω—ã–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π\n‚Ä¢ –£–º–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–µ–π—Ç–∏–Ω–≥–∞\n‚Ä¢ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞\n‚Ä¢ –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞');
        }
        
        function openOriginalTMA() {
            // –ü–µ—Ä–µ—Ö–æ–¥ –∫ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ TMA (–µ—Å–ª–∏ API –¥–æ—Å—Ç—É–ø–Ω–æ)
            window.location.href = './index.html';
        }
        
        // –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
        async function checkAPI() {
            try {
                const response = await fetch('/api/health');
                if (response.ok) {
                    document.querySelector('.info').innerHTML = 
                        '<h4>‚úÖ API –¥–æ—Å—Ç—É–ø–Ω–æ!</h4><p>–ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å TMA —Ä–∞–±–æ—Ç–∞–µ—Ç.</p>';
                }
            } catch (error) {
                console.log('API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º');
            }
        }
        
        checkAPI();
    </script>
</body>
</html>